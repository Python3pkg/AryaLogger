{"name":"Aryalogger","tagline":"Use the SimpleAciUiLogServer and arya to directly convert UI REST API calls to ACI Python SDK code.","body":"==========\r\nAryaLogger\r\n==========\r\n\r\nUse the SimpleAciUiLogServer and arya to convert UI REST API calls to ACI\r\nPython SDK code.\r\n\r\nInstall\r\n-------\r\n\r\nInstallation of AryaLogger depends on several other modules that are not part\r\nof the Python standard library.  Here is a basic list of those modules:\r\n\r\n1. acicobra - Not yet available on Pypi\r\n2. arya - available on Pypi\r\n3. SimpleAciUiLogServer - available on Pypi\r\n\r\nInstalling Dependancies\r\n+++++++++++++++++++++++\r\n\r\nThe difficult dependancy at this point is acicobra as it is not on Pypi yet.\r\n\r\nInstalling acicobra\r\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\r\n\r\nIf you have at least APIC version 1.0(3f) installed on your APIC, installation\r\nof acicobra can be done by simply pointing pip at your APIC's cobra/_downloads\r\ndirectory using the --find-links option using one of these two commands:\r\n\r\n    easy_install -Z --find-links http://apic/cobra/_downloads acicobra\r\n\r\nOr:\r\n\r\n    easy_install -Z --find-links https://apic/cobra/_downloads acicobra\r\n\r\nIf your APIC has http disabled (the default), you must either use https or\r\nenable http on the APIC.  Note:  As of the 1.1(1j) version of the APIC,\r\nTLSv1 has been disabled by default on the APIC for HTTPS.  So if you are\r\nusing HTTPS and your python install uses an older openssl that does not\r\nsupport TLSv1_1 or TLSv1_2 you may have issues handshaking with the APIC\r\nGUI.  This is especially the case on the default installation of python on\r\nMacOSX which usually utilizes the default installation of openssl which is\r\nextremely old.  Generally speaking, one should not be using such an old\r\nversion of openssl.  Homebrew may be your best bet.\r\n\r\nIf you have an older version of software on your APIC, you can either download\r\nacicobra from the Cisco.com software download site (APIC specific contract\r\nrequired to be tied to the Cisco.com id doing the download) or you can download\r\nthe acicobra egg from the APIC itself and rename it:\r\n\r\n    https://developer.cisco.com/media/apicDcPythonAPI_v0.1/install.html\r\n\r\nInstalling arya\r\n\"\"\"\"\"\"\"\"\"\"\"\"\"\"\"\r\n\r\nInstalling arya from pypi is as simple as using pip:\r\n\r\n    pip install arya\r\n\r\nInstalling AryaLogger\r\n+++++++++++++++++++++\r\n\r\nAryaLogger is available on pypi so installation is fairly straight forward:\r\n\r\n    pip install AryaLogger\r\n\r\nThis should also pull in SimpleAciUiLogServer if you don't have it installed\r\nalready.\r\n\r\nRun AryaLogger\r\n--------------\r\n\r\nThere are two possible commands to run AryaLogger on your system.  You only need\r\nto run one of these commands:\r\n\r\n    aryalogger\r\n\r\nOr:\r\n\r\n    AryaLogger\r\n\r\nThere are additional options available that can be seen via the -h option:\r\n\r\n    * -h: Help\r\n    * -a/--apicip: The ip address or hostname of an APIC to help resolve which\r\n      ip address to print when showing the server is started.\r\n    * -po/--port: The port for the HTTP server to listen on - default is 8987\r\n    * -l/--location: The URI path to listen for - default is apiinspector\r\n    * -s/--sslport: The port for the HTTPS server to listen on - default is\r\n      8443\r\n    * -c/--cert: The certificate file to use for TLS/SSL negotiation.\r\n    * -e/--exclude: There are three types of queries the GUI doe constantly\r\n      to keep the session up or to request information to update the GUI.  This\r\n      option allows you to selectively exlude these queries from the output.\r\n      options are: \r\n\r\n      - subscriptionRefresh - Refreshes a subscription request for the GUI.\r\n      - aaaRefresh - Refreshes the GUI connection to the APIC.\r\n      - topInfo - Retrieves basic info from the APIC to update the GUI.\r\n\r\n    * -r/--logrequests: Log the HTTP request along with the CobraSDK code.\r\n    * -n/--nice-output: Pretty print any XML or JSON (has no affect currently\r\n      in AryaLogger)\r\n    * -i/--indent: The number of spaces to indent when pretty printing (has\r\n      no affect currently in AryaLogger)\r\n\r\nFor HTTPS, AryaLogger does come with a default certificate file but it should\r\nnot be used for production.  Instead you should create your own certificate file\r\nusing openssl and pass it to the server:\r\n\r\n    openssl req -new -x509 -keyout server.pem -out server.pem -days 36500 -nodes\r\n\r\nPass it in to AryaLogger using the -c/--cert option.\r\n\r\nSetup your APIC\r\n---------------\r\n\r\nSetting up your APIC to send log messages to AryaLogger is very simple as well.\r\nWhen you run AryaLogger it will output the addresses and ports it is listening\r\nto:\r\n\r\n    $ aryalogger\r\n    serving at:\r\n    http://10.1.1.100:8987/apiinspector\r\n    https://10.1.1.100:8443/apiinspector\r\n\r\nIf you are going to be using the https address to access the AryaLogger server,\r\nbe sure to browse to the https address printed out by the server when it starts\r\nso that you can accept the certificate exception.\r\n\r\nIf you connect to the APIC graphical user interface (GUI) via http, take note of\r\nthe http URL otherwise if you connect to the GUI using https take note of\r\nthe https URL.\r\n\r\nUse this URL in the 'Start Remote Logging' pop-up that is available from the \r\n'Welcome' menu at the top right of the GUI.\r\n\r\nOnce you have started remote logging to the URL provided by AryaLogger, when you\r\nclick around the APIC GUI you should see auto generated Cobra SDK code from\r\nAryaLogger.\r\n\r\nProblems & Issues\r\n-----------------\r\n\r\nThe most common problem seen when running AryaLogger is that the AryaLogger\r\nserver starts, remote logging is setup on the APIC but then no data is seen\r\never being transferred to the server.  This can be caused by many things but\r\nthe most common is that a security exception has not been accepted for the http\r\ncertificate.  This can be resolved by connecting to the AryaLogger https\r\naddress from your browser and accepting the security exception for the server\r\ncertificate.  The second most common issue is that there is a firewall running\r\non the host that the AryaLogger server is running on.  We have even seen hosts\r\nwith multiple firewalls running when the end user had no idea.\r\n\r\nThe simplest form of troubleshooting involves going into the same browser\r\ntab that the APIC is connected to with and opening the developer tools in\r\nyour browser.  Look at the javascript console and see if any errors are being\r\nprinted about communication to the host the AryaLogger is running on.\r\n\r\nIf you run into issues please feel free to open an issue on github.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}